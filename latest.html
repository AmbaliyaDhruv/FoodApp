<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" type="image/x-icon" href="https://www.pikpng.com/pngl/m/36-369676_food-court-icon-png-png-download-app-icon.png">
    <title>Fooddise</title>
    <link rel="stylesheet" href="navbar.css">
</head>
<style>
    #display {
        margin: auto;
        margin-top:100px;
        width: 80%;
        display: grid;
        grid-template-columns: repeat(5, 20%);
        grid-gap: 20px;
    }

  

    .imgthum {
        width: 100%;
        height: 70%;
    }

    .outer:hover{
        background-color: black;
        color: white;
    }

    .outer{
        cursor: pointer;
    }
</style>

<body>
    <div id="nav"></div>
    <div id="display"></div>
</body>

</html>


<script type="module">

    import navbar from './navbar/navbar.js';

    let nav = document.querySelector("#nav");
    nav.innerHTML = navbar();


    import call from './navbar/fetch.js';


    let url = "https://www.themealdb.com/api/json/v1/1/filter.php?a=Canadian"

    let promis = call(url);

    promis.then((res) => {
        display(res.meals);
    })
    promis.catch((er) => {
        console.log(er, "inmy")
    })

    let box = document.querySelector("#display")
    function display(data) {
         console.log(data)
        data.forEach(({ idMeal, strMeal, strMealThumb }) => {
            
            let outer = document.createElement("div")
            outer.className="outer"
            outer.addEventListener("click",()=>{
                showmore(idMeal);
            })
            let img = document.createElement("img");
            img.src = strMealThumb
            img.className="imgthum"
            let des = document.createElement("div");
           
            let Name = document.createElement("h2");
            Name.innerText = strMeal
           



            box.append(outer);

            outer.append(img, des);

            des.append(Name);


        })
    }

    let arr=[];

    function showmore(d){
         
        arr.push(d);

        localStorage.setItem("id",JSON.stringify(arr));

        window.location.href="more.html";
         
    }


</script>